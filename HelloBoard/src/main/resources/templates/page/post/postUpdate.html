<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
<meta charset="UTF-8">
<title>게시글 수정</title>
</head>
<body>
<th:block layout:fragment="content">
<div class="d-flex justify-content-center text-center">
	<div class="col-8">
		<section class="my-5">
			<form id="frm" action="update" method="post" enctype="multipart/form-data">
				<table class="table mb-5">
					<tr>
						<th scope="col" width="110">작성자</th>
						<td class="text-start">
							<input type="text" class="form-control"
								   id="" name="memberId" th:value="${post.memberId }">
						</td>
					</tr>
					<tr>
						<th scope="row">작성일</th>
						<td class="text-start" 
							th:text="${post.enrollDate }">
						</td>
					</tr>
					<tr>
						<td class="text-start" colspan="2">
							<input type="text" class="form-control form-control-sm" th:value="${post.title }" 
							       id="" name="title">
						</td>
					</tr>
					<tr>
						<td class="text-start" colspan="2">
							<textarea class="form-control" id="" name="contents"
									  rows="10" placeholder="Wrtie a Contents">[[${post.contents }]]</textarea>
						</td>
					</tr>
					<tr>
						<th scope="row">첨부파일</th>
						<td class="text-start">
							<input type="file" class="form-control" 
							       id="" name="file" th:value="${post.title }">
							<th:block th:if="${post.fileName != null}">
								<div class="mt-3">
									<a th:href=@{/download(fileName=${post.fileName},originName=${post.originFileName})}>[[${post.fileName}]]</a>
									<input type="hidden" name="prevFile" th:value="${post.fileName}">
								</div>
							</th:block>
							<input type="hidden" name="id" th:value="${post.id}">
						</td>
					</tr>
				</table>
				<div>
					<button class="btn btn-outline-dark" type="submit">수정하기</button>
				</div>
			</form>
		</section>
	</div>
</div>
</th:block>
</body>
</html>